#+BIND: org-export-use-babel nil
#+PROPERTY: header-args    :cache yes
#+OPTIONS: toc:nil
* Slice timing info is off?
  The "~MULTIBAND_R-BOLD#1_EYESFIXED~" acquisitions [[*TR is fast][report a TR]] and [[*Slice Timing is not multiband][slice timing]] that do not align. [[*Best guess TR][The TR could be]] ~1.81~ seconds instead of ~525~ ms.
  Or, more likely, we do not have accurate slice timing info. Despite the multiband sequence name, the each slices onset time is it's own. Mutliband should have multiple slices acquired at the same time.

  Also see [[*Full DCM info][a representative full dicom dump]]

* Nifit values
   If TR is ~.525~ seconds, with ~573~ volumes, duration would be ~5.01~ minutes. Duration for conventional ~RESTING~ is also ~5 min~.
   The resolution of the fast scan is 4x4x4, high enough for a fast TR?

   The first 2 ~restlong~ are ~MULTIBAND_R-BOLD#1_EYESFIXED~. The last is ~RESTING~.
#+BEGIN_SRC bash :results output :exports both
3dinfo -n4 -tr -ad3 -iname /Volumes/Hera/Raw/BIDS/sEEG_rs/sub-E07/func/*nii.gz
#+END_SRC

#+RESULTS[6ab054843d1fda9baf306602db4a211f3f54b947]:
: 64	64	32	573	0.525000	4.000000	4.000000	4.000000	/Volumes/Hera/Raw/BIDS/sEEG_rs/sub-E07/func/sub-E07_task-restlong_run-01_bold.nii.gz
: 64	64	32	573	0.525000	4.000000	4.000000	4.000000	/Volumes/Hera/Raw/BIDS/sEEG_rs/sub-E07/func/sub-E07_task-restlong_run-02_bold.nii.gz
: 64	64	36	150	2.000000	3.437500	3.437500	4.000000	/Volumes/Hera/Raw/BIDS/sEEG_rs/sub-E07/func/sub-E07_task-restshort_run-01_bold.nii.gz

* Example Dicoms

  looking at first dicom of each of the 3 rests from E07
  #+BEGIN_SRC bash :results output :exports both
  for d in /Volumes/L/bea_res/Data/EpilepsyMR/epilepsy_bold/E07/E07_*/scans/*/; do find $d -type f -print -quit; done
  #+END_SRC

  #+name: first-dicoms
  #+RESULTS[65bb7aba16b0c32c2a4b6115daab3696e9270200]:
  : /Volumes/L/bea_res/Data/EpilepsyMR/epilepsy_bold/E07/E07_MR3/scans/29/DICOM/2.16.840.1.114151.2.2.10.43797.6683.8058562-29-1-1crpqr5.dcm
  : /Volumes/L/bea_res/Data/EpilepsyMR/epilepsy_bold/E07/E07_MR3/scans/30/DICOM/2.16.840.1.114151.2.2.10.43797.6683.8058562-30-1-1kwqlvg.dcm
  : /Volumes/L/bea_res/Data/EpilepsyMR/epilepsy_bold/E07/E07_MR5/scans/23/DICOM/2.16.840.1.114151.2.2.10.43928.6294.8227563-23-1-1kwqksd.dcm

** TR is fast
~525~ ms is fast! The non-MB rest is reasonable at ~2~ seconds.

  #+BEGIN_SRC sh :stdin first-dicoms :results output :exports both
  echo "acq	tr"
  xargs dicom_hinfo -tag 0018,1030 0018,0080 -no_name -sepstr $'\t'
  #+END_SRC

  #+RESULTS[3ec64325bb8ef5c1d2a9cab8b5938a9e110a8c4c]:
  : acq	tr
  : MULTIBAND_R-BOLD#1_EYESFIXED	525
  : MULTIBAND_R-BOLD#2_EYESFIXED	525
  : RESTING	2000

** Slice Timing is not multiband
   The dcm report interleaved slices. Multi-band should have some slices sharing the same slice time. 
  #+BEGIN_SRC bash :stdin first-dicoms :results output :exports both
  while read dcm; do
   p=$(dicom_hinfo -tag 0018,1030 -no_name $dcm)
   dicom_hdr -slice_times_verb $dcm 2>&1|
    perl -slane 'next unless m/0{5}/; print map {sprintf "$p\t%.2f\n", $_} @F;' -- -p=$p
  done
  #+END_SRC

  #+NAME: slicetimes
  #+RESULTS[42d85a378d6d0fc7f618ca52f09abf80d95a7b27]:
  #+begin_example
  MULTIBAND_R-BOLD#1_EYESFIXED	0.00
  MULTIBAND_R-BOLD#1_EYESFIXED	905.00
  MULTIBAND_R-BOLD#1_EYESFIXED	55.00
  MULTIBAND_R-BOLD#1_EYESFIXED	962.50
  MULTIBAND_R-BOLD#1_EYESFIXED	112.50
  MULTIBAND_R-BOLD#1_EYESFIXED	1020.00
  MULTIBAND_R-BOLD#1_EYESFIXED	170.00
  MULTIBAND_R-BOLD#1_EYESFIXED	1075.00
  MULTIBAND_R-BOLD#1_EYESFIXED	225.00
  MULTIBAND_R-BOLD#1_EYESFIXED	1132.50
  MULTIBAND_R-BOLD#1_EYESFIXED	282.50
  MULTIBAND_R-BOLD#1_EYESFIXED	1190.00
  MULTIBAND_R-BOLD#1_EYESFIXED	340.00
  MULTIBAND_R-BOLD#1_EYESFIXED	1245.00
  MULTIBAND_R-BOLD#1_EYESFIXED	395.00
  MULTIBAND_R-BOLD#1_EYESFIXED	1302.50
  MULTIBAND_R-BOLD#1_EYESFIXED	452.50
  MULTIBAND_R-BOLD#1_EYESFIXED	1360.00
  MULTIBAND_R-BOLD#1_EYESFIXED	510.00
  MULTIBAND_R-BOLD#1_EYESFIXED	1417.50
  MULTIBAND_R-BOLD#1_EYESFIXED	565.00
  MULTIBAND_R-BOLD#1_EYESFIXED	1472.50
  MULTIBAND_R-BOLD#1_EYESFIXED	622.50
  MULTIBAND_R-BOLD#1_EYESFIXED	1530.00
  MULTIBAND_R-BOLD#1_EYESFIXED	680.00
  MULTIBAND_R-BOLD#1_EYESFIXED	1587.50
  MULTIBAND_R-BOLD#1_EYESFIXED	735.00
  MULTIBAND_R-BOLD#1_EYESFIXED	1642.50
  MULTIBAND_R-BOLD#1_EYESFIXED	792.50
  MULTIBAND_R-BOLD#1_EYESFIXED	1700.00
  MULTIBAND_R-BOLD#1_EYESFIXED	850.00
  MULTIBAND_R-BOLD#1_EYESFIXED	1757.50

  MULTIBAND_R-BOLD#2_EYESFIXED	0.00
  MULTIBAND_R-BOLD#2_EYESFIXED	907.50
  MULTIBAND_R-BOLD#2_EYESFIXED	57.50
  MULTIBAND_R-BOLD#2_EYESFIXED	965.00
  MULTIBAND_R-BOLD#2_EYESFIXED	115.00
  MULTIBAND_R-BOLD#2_EYESFIXED	1020.00
  MULTIBAND_R-BOLD#2_EYESFIXED	170.00
  MULTIBAND_R-BOLD#2_EYESFIXED	1077.50
  MULTIBAND_R-BOLD#2_EYESFIXED	227.50
  MULTIBAND_R-BOLD#2_EYESFIXED	1135.00
  MULTIBAND_R-BOLD#2_EYESFIXED	285.00
  MULTIBAND_R-BOLD#2_EYESFIXED	1190.00
  MULTIBAND_R-BOLD#2_EYESFIXED	340.00
  MULTIBAND_R-BOLD#2_EYESFIXED	1247.50
  MULTIBAND_R-BOLD#2_EYESFIXED	397.50
  MULTIBAND_R-BOLD#2_EYESFIXED	1305.00
  MULTIBAND_R-BOLD#2_EYESFIXED	455.00
  MULTIBAND_R-BOLD#2_EYESFIXED	1360.00
  MULTIBAND_R-BOLD#2_EYESFIXED	510.00
  MULTIBAND_R-BOLD#2_EYESFIXED	1417.50
  MULTIBAND_R-BOLD#2_EYESFIXED	567.50
  MULTIBAND_R-BOLD#2_EYESFIXED	1475.00
  MULTIBAND_R-BOLD#2_EYESFIXED	625.00
  MULTIBAND_R-BOLD#2_EYESFIXED	1530.00
  MULTIBAND_R-BOLD#2_EYESFIXED	680.00
  MULTIBAND_R-BOLD#2_EYESFIXED	1587.50
  MULTIBAND_R-BOLD#2_EYESFIXED	737.50
  MULTIBAND_R-BOLD#2_EYESFIXED	1645.00
  MULTIBAND_R-BOLD#2_EYESFIXED	795.00
  MULTIBAND_R-BOLD#2_EYESFIXED	1700.00
  MULTIBAND_R-BOLD#2_EYESFIXED	850.00
  MULTIBAND_R-BOLD#2_EYESFIXED	1757.50

  #+end_example

* Best guess TR
  Were the slice times accurate, the TR would probably be ~1.815~ seconds: the later difference between slices + final slice time.
  
  The average time between slices is less than the last. I'm not sure which is appropriate to use. average, last, first difference.
  The range is ~1.7~ ms

 #+BEGIN_SRC R :session :var slicetimes=slicetimes :results none
 library(dplyr)
 d<-
   read.table(text=slicetimes,sep="\t", comment.char="") %>%
   `names<-`(c('protocol','time')) %>%
   arrange(protocol, time) %>% 
   group_by(protocol) %>% mutate(
     slice=1:n(),
     odd=slice%%2==1,
     df=c(NA,diff(time)))
 #+END_SRC


 #+BEGIN_SRC R :session :results output graphics :file sEEG-slicetime-diff.png :exports both
 require(ggplot2)
 theme_set(cowplot::theme_cowplot())
 #d %>% ggplot()+aes(x=slice,y=time, group=paste(protocol,odd), color=odd) + geom_point()
 d %>% ggplot() + aes(x=df, fill=odd,alpha=.5) + geom_density() +
   ggtitle('Dist of slice sample time difference') 
 #+END_SRC

 #+RESULTS[d486dd4d4a9ffaff754dd4e62cab2b28bd3efe36]:
 [[file:sEEG-slicetime-diff.png]]

 #+BEGIN_SRC R :session :results output :exports both
 d %>% summarise(mean(df,na.rm=T)) %>% print.data.frame()
 d %>% filter(time==max(time)) %>% mutate(tr=time+df) %>% print.data.frame
 #+END_SRC

 #+RESULTS[a3cbfc93ae318ec2dccf804f76208ada1e027084]:
 :                       protocol mean(df, na.rm = T)
 : 1 MULTIBAND_R-BOLD#1_EYESFIXED            56.69355
 : 2 MULTIBAND_R-BOLD#2_EYESFIXED            56.69355
 : 
 :                       protocol   time slice   odd   df   tr
 : 1 MULTIBAND_R-BOLD#1_EYESFIXED 1757.5    32 FALSE 57.5 1815
 : 2 MULTIBAND_R-BOLD#2_EYESFIXED 1757.5    32 FALSE 57.5 1815

* Full DCM info
 for one of the "multiband" protocols.
   #+BEGIN_SRC bash :results output :exports both
   dicom_hdr -sex_info /Volumes/L/bea_res/Data/EpilepsyMR/epilepsy_bold/E07/E07_MR3/scans/29/DICOM/2.16.840.1.114151.2.2.10.43797.6683.8058562-29-1-1crpqr5.dcm
   #+END_SRC

   #+RESULTS[059bf106b9e5053b89cadacb6d62472c7b146853]:
   #+begin_example
   DICOM File: /Volumes/L/bea_res/Data/EpilepsyMR/epilepsy_bold/E07/E07_MR3/scans/29/DICOM/2.16.840.1.114151.2.2.10.43797.6683.8058562-29-1-1crpqr5.dcm
   Object type: ELEMENT LIST
   Object size: 421462
   Group: 0002, Length:      196
   0002 0000        4 [140     ] //              META Group Length// 196
   0002 0001        2 [156     ] //META File Meta Information Version//hex OB: (len 2)00 01 
   0002 0002       26 [166     ] //META Media Stored SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0002 0003       52 [200     ] //META Media Stored SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210596137537633
   0002 0010       20 [260     ] //       META Transfer Syntax UID//1.2.840.10008.1.2.1
   0002 0012       16 [288     ] //  META Implementation Class UID//1.2.40.0.13.1.1
   0002 0013       12 [312     ] //META Implementation Version Name//dcm4che-2.0 
   0002 0016       12 [332     ] //META Source Application Entity Title//STENTOR_SCU 
   Group: 0008, Length:      681
   0008 0005       10 [352     ] //      ID Specific Character Set//ISO_IR 100
   0008 0008       28 [370     ] //                  ID Image Type//ORIGINAL\PRIMARY\M\ND\MOSAIC
   0008 0012        8 [406     ] //      ID Instance Creation Date//20191130
   0008 0013       14 [422     ] //      ID Instance Creation Time//221124.316000 
   0008 0016       26 [444     ] //               ID SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 0018       52 [478     ] //            ID SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210596137537633
   0008 0020        8 [538     ] //                  ID Study Date//20191130
   0008 0021        8 [554     ] //                 ID Series Date//20191130
   0008 0022        8 [570     ] //            ID Acquisition Date//20191130
   0008 0023        8 [586     ] //                  ID Image Date//20191130
   0008 0030       14 [602     ] //                  ID Study Time//212555.006000 
   0008 0031       14 [624     ] //                 ID Series Time//221124.309000 
   0008 0032       14 [646     ] //            ID Acquisition Time//221052.505000 
   0008 0033       14 [668     ] //                  ID Image Time//221124.316000 
   0008 0060        2 [690     ] //                    ID Modality//MR
   0008 0070        8 [700     ] //                ID Manufacturer//SIEMENS 
   0008 0080        4 [716     ] //            ID Institution Name//CHP 
   0008 0081       50 [728     ] //         ID Institution Address//Penn Avenue 4401,Pittsburgh,Pennsylvania,US,15224 
   0008 0090        6 [786     ] //  ID Referring Physician's Name//EDDENS
   0008 1010        6 [800     ] //                ID Station Name//CHPMR5
   0008 1030       34 [814     ] //           ID Study Description//MR BRAIN WITH AND WITHOUT CONTRAST
   0008 1032       -1 [0       ] //     ID Procedure Code Sequence//SEQUENCE
   DCM Dump SEQUENCE{
   Object type: ELEMENT LIST
   Object size: 82
   Group: 0008, Length:       74
   0008 0100       10 [876     ] //                  ID Code Value//MRBRAINWX 
   0008 0102        6 [894     ] //    ID Coding Scheme Designator//LOCAL 
   0008 0104       34 [908     ] //                ID Code Meaning//MR BRAIN WITH AND WITHOUT CONTRAST
   DCM Dump Elements Complete
   DCM Dump SEQUENCE Complete}
   0008 103e       28 [966     ] //          ID Series Description//MULTIBAND_R-BOLD#1_EYESFIXED
   0008 1040       10 [1002    ] //ID Institutional Department Name//Department
   0008 1048       20 [1020    ] //         ID Physician of Record//EDDENS^TAYLOR^JOHN^^
   0008 1050       20 [1048    ] // ID Performing Physician's Name//EDDENS^TAYLOR^JOHN^^
   0008 1070       10 [1076    ] //             ID Operator's Name//EB SEIMENS
   0008 1090        6 [1094    ] //     ID Manufacturer Model Name//Skyra 
   0008 1110       -1 [0       ] //   ID Referenced Study Sequence//SEQUENCE
   DCM Dump SEQUENCE{
   Object type: ELEMENT LIST
   Object size: 92
   Group: 0008, Length:       84
   0008 1150       24 [1128    ] //    ID Referenced SOP Class UID//1.2.840.10008.3.1.2.3.1
   0008 1155       44 [1160    ] // ID Referenced SOP Instance UID//2.16.840.1.114151.2.2.10.43797.6683.8058562
   DCM Dump Elements Complete
   DCM Dump SEQUENCE Complete}
   0008 1120       -1 [0       ] // ID Referenced Patient Sequence//SEQUENCE
   DCM Dump SEQUENCE{
   Object type: ELEMENT LIST
   Object size: 92
   Group: 0008, Length:       84
   0008 1150       24 [1248    ] //    ID Referenced SOP Class UID//1.2.840.10008.3.1.2.1.1
   0008 1155       44 [1280    ] // ID Referenced SOP Instance UID//2.16.840.1.114151.2.2.10.43794.6574.8056073
   DCM Dump Elements Complete
   DCM Dump SEQUENCE Complete}
   0008 1140       -1 [0       ] //   ID Referenced Image Sequence//SEQUENCE
   DCM Dump SEQUENCE{
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [1368    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [1402    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.2019113021270386370416762
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [1478    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [1512    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.2019113021295764440417337
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [1588    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [1622    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.2019113021374518272619038
   DCM Dump Elements Complete
   DCM Dump SEQUENCE Complete}
   0008 2112       -1 [0       ] //       ID Source Image Sequence//SEQUENCE
   DCM Dump SEQUENCE{
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [1718    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [1752    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595457037600
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [1828    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [1862    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595484737601
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [1938    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [1972    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595508137603
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [2048    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [2082    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595528437604
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [2158    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [2192    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595547537605
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [2268    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [2302    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595566837606
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [2378    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [2412    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595586837607
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [2488    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [2522    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595609337608
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [2598    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [2632    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595629237609
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [2708    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [2742    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595649037610
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [2818    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [2852    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595668637611
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [2928    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [2962    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595688237612
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [3038    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [3072    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595710837613
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [3148    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [3182    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595730437614
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [3258    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [3292    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595751537615
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [3368    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [3402    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595772237616
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [3478    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [3512    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595792237617
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [3588    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [3622    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595814637618
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [3698    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [3732    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595834437619
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [3808    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [3842    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595854837620
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [3918    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [3952    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595875037621
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [4028    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [4062    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595893937622
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [4138    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [4172    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595914937623
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [4248    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [4282    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595935337624
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [4358    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [4392    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595954537625
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [4468    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [4502    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595974237626
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [4578    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [4612    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210595995237627
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [4688    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [4722    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210596022537628
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [4798    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [4832    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210596042837629
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [4908    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [4942    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210596064437630
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [5018    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [5052    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210596082537631
   DCM Dump Elements Complete
   Object type: ELEMENT LIST
   Object size: 102
   Group: 0008, Length:       94
   0008 1150       26 [5128    ] //    ID Referenced SOP Class UID//1.2.840.10008.5.1.4.1.1.4
   0008 1155       52 [5162    ] // ID Referenced SOP Instance UID//1.3.12.2.1107.5.2.19.45307.201911302210596103237632
   DCM Dump Elements Complete
   DCM Dump SEQUENCE Complete}
   Group: 0010, Length:       46
   0010 0040        2 [5238    ] //                PAT Patient Sex//F 
   0010 1010        4 [5248    ] //                PAT Patient Age//004Y
   0010 1020        4 [5260    ] //               PAT Patient Size//0.95
   0010 1030        4 [5272    ] //             PAT Patient Weight//17.5
   Group: 0012, Length:        7
   0012 0064       -1 [0       ] //                               //SEQUENCE
   DCM Dump SEQUENCE{
   Object type: ELEMENT LIST
   Object size: 66
   Group: 0008, Length:       58
   0008 0100        2 [5304    ] //                  ID Code Value//2 
   0008 0102        4 [5314    ] //    ID Coding Scheme Designator//XNAT
   0008 0103        4 [5326    ] //       ID Coding Scheme Version//0.1 
   0008 0104       16 [5338    ] //                ID Code Meaning//XNAT Edit Script
   DCM Dump Elements Complete
   DCM Dump SEQUENCE Complete}
   Group: 0018, Length:      428
   0018 0015        4 [5378    ] //         ACQ Body Part Examined//HEAD
   0018 0020        2 [5390    ] //          ACQ Scanning Sequence//EP
   0018 0021        2 [5400    ] //           ACQ Sequence Variant//SK
   0018 0022        2 [5410    ] //               ACQ Scan Options//FS
   0018 0023        2 [5420    ] //       ACQ MR Acquisition Type //2D
   0018 0024       12 [5430    ] //              ACQ Sequence Name//epfid2d1_64 
   0018 0025        2 [5450    ] //                 ACQ Angio Flag//N 
   0018 0050        2 [5460    ] //            ACQ Slice Thickness//4 
   0018 0080        4 [5470    ] //            ACQ Repetition Time//525 
   0018 0081        2 [5482    ] //                  ACQ Echo Time//32
   0018 0083        2 [5492    ] //         ACQ Number of Averages//1 
   0018 0084       10 [5502    ] //          ACQ Imaging Frequency//123.247572
   0018 0085        2 [5520    ] //             ACQ Imaged Nucleus//1H
   0018 0086        2 [5530    ] //                ACQ Echo Number//1 
   0018 0087        2 [5540    ] //    ACQ Magnetic Field Strength//3 
   0018 0088       16 [5550    ] //     ACQ Spacing Between Slices//3.9999998769452 
   0018 0089        2 [5574    ] //ACQ Number of Phase Encoding Steps//64
   0018 0091        2 [5584    ] //          ACQ Echo Train Length//64
   0018 0093        4 [5594    ] //           ACQ Percent Sampling//100 
   0018 0094        4 [5606    ] //ACQ Percent Phase Field of View//100 
   0018 0095        4 [5618    ] //            ACQ Pixel Bandwidth//2365
   0018 1000        6 [5630    ] //       ACQ Device Serial Number//45307 
   0018 1020       12 [5644    ] //           ACQ Software Version//syngo MR E11
   0018 1030       28 [5664    ] //              ACQ Protocol Name//MULTIBAND_R-BOLD#1_EYESFIXED
   0018 1251        4 [5700    ] //          ACQ Transmitting Coil//Body
   0018 1310        8 [5712    ] //         ACQ Acquisition Matrix// 64 0 0 64
   0018 1312        4 [5728    ] //   ACQ Phase Encoding Direction//COL 
   0018 1314        2 [5740    ] //                 ACQ Flip Angle//65
   0018 1315        2 [5750    ] //        ACQ Variable Flip Angle//N 
   0018 1316       16 [5760    ] //                        ACQ SAR//0.25402662755524
   0018 1318        2 [5784    ] //                      ACQ DB/DT//0 
   0018 5100        4 [5794    ] //           ACQ Patient Position//HFS 
   Group: 0019, Length:      502
   0019 0010       18 [5806    ] //                               //SIEMENS MR HEADER 
   0019 1008       12 [5832    ] //                               //IMAGE NUM 4 
   0019 1009        4 [5852    ] //                               //1.0 
   0019 100a        2 [5864    ] //                               // 32
   0019 100b        6 [5874    ] //                               //302000
   0019 100f        4 [5888    ] //                               //Fast
   0019 1011        2 [5900    ] //                               //No
   0019 1012       12 [5910    ] //                               // 0
   0019 1013       12 [5930    ] //                               // 0
   0019 1014        6 [5950    ] //                               //0\0\0 
   0019 1015       24 [5964    ] //                               //Unimplemented
   0019 1016        2 [5996    ] //                               //0 
   0019 1017        2 [6006    ] //                               //1 
   0019 1018        4 [6016    ] //                               //3300
   0019 1028        8 [6028    ] //                               //Unimplemented
   0019 1029      256 [6044    ] //                               //Unimplemented
   Group: 0020, Length:      334
   0020 000d       44 [6308    ] //         REL Study Instance UID//2.16.840.1.114151.2.2.10.43797.6683.8058562
   0020 000e       58 [6360    ] //        REL Series Instance UID//1.3.12.2.1107.5.2.19.45307.2019113022104832138537388.0.0.0
   0020 0010        8 [6426    ] //                   REL Study ID//94177750
   0020 0011        2 [6442    ] //              REL Series Number//29
   0020 0012        2 [6452    ] //         REL Acquisition Number//1 
   0020 0013        2 [6462    ] //            REL Instance Number//1 
   0020 0032       50 [6472    ] //     REL Image Position Patient//-770.18116283417\-741.51437759399\-43.539196014404
   0020 0037       12 [6530    ] //REL Image Orientation (Patient)//1\0\0\0\1\0 
   0020 0052       52 [6550    ] //     REL Frame of Reference UID//1.3.12.2.1107.5.2.19.45307.1.20191130212555218.0.0.0
   0020 1040        0 [6610    ] //REL Position Reference Indicator//
   0020 1041       16 [6618    ] //             REL Slice Location//-43.539196014404
   Group: 0028, Length:      160
   0028 0002        2 [6642    ] //          IMG Samples Per Pixel// 1
   0028 0004       12 [6652    ] // IMG Photometric Interpretation//MONOCHROME2 
   0028 0010        2 [6672    ] //                       IMG Rows// 384
   0028 0011        2 [6682    ] //                    IMG Columns// 384
   0028 0030        4 [6692    ] //              IMG Pixel Spacing//4\4 
   0028 0100        2 [6704    ] //             IMG Bits Allocated// 16
   0028 0101        2 [6714    ] //                IMG Bits Stored// 12
   0028 0102        2 [6724    ] //                   IMG High Bit// 11
   0028 0103        2 [6734    ] //       IMG Pixel Representation// 0
   0028 0106        2 [6744    ] // IMG Smallest Image Pixel Value// 0
   0028 0107        2 [6754    ] //  IMG Largest Image Pixel Value// 2428
   0028 1050        4 [6764    ] //              IMG Window Center//701 
   0028 1051        4 [6776    ] //               IMG Window Width//1648
   0028 1055        6 [6788    ] //IMG Window Center & Width Explanation//Algo1 
   Group: 0029, Length:   119158
   0029 0010       18 [6802    ] //                               //SIEMENS CSA HEADER
   0029 0011       22 [6828    ] //                               //SIEMENS MEDCOM HEADER2
   0029 1008       12 [6858    ] //                               //IMAGE NUM 4 
   0029 1009        8 [6878    ] //                               //20191130
   0029 1010    12444 [6898    ] //                               //hex OB: (len 8)53 56 31 30 04 03 02 01 
   0029 1018        2 [19350   ] //                               //MR
   0029 1019        8 [19360   ] //                               //20191130
   0029 1020   106568 [19380   ] //                               //hex OB: (len 8)53 56 31 30 04 03 02 01 
   0029 1160        4 [125956  ] //                               //com 
   Group: 0032, Length:       63
   0032 1032        6 [125968  ] //      SDY Requesting Physician //EDDENS
   0032 1060       34 [125982  ] //SDY Requested Procedure Description//MR BRAIN WITH AND WITHOUT CONTRAST
   0032 1064       -1 [0       ] //SDY Requested Procedure Code Seq//SEQUENCE
   DCM Dump SEQUENCE{
   Object type: ELEMENT LIST
   Object size: 82
   Group: 0008, Length:       74
   0008 0100       10 [126044  ] //                  ID Code Value//MRBRAINWX 
   0008 0102        6 [126062  ] //    ID Coding Scheme Designator//LOCAL 
   0008 0104       34 [126076  ] //                ID Code Meaning//MR BRAIN WITH AND WITHOUT CONTRAST
   DCM Dump Elements Complete
   DCM Dump SEQUENCE Complete}
   Group: 0040, Length:      104
   0040 0244        8 [126134  ] //             PRC PPS Start Date//20191130
   0040 0245       14 [126150  ] //             PRC PPS Start Time//212555.133000 
   0040 0253        8 [126172  ] //                     PRC PPS ID//3333676 
   0040 0254       34 [126188  ] //            PRC PPS Description//MR BRAIN WITH AND WITHOUT CONTRAST
   0040 0280        0 [126230  ] //            PRC Comments on PPS//
   Group: 0051, Length:      214
   0051 0010       18 [126238  ] //                               //SIEMENS MR HEADER 
   0051 1008       12 [126264  ] //                               //IMAGE NUM 4 
   0051 1009        4 [126284  ] //                               //1.0 
   0051 100a        8 [126296  ] //                               //TA 05:02
   0051 100b        6 [126312  ] //                               //64*64 
   0051 100c       14 [126326  ] //                               //FoV 1536*1536 
   0051 100e        4 [126348  ] //                               //Tra 
   0051 100f       12 [126360  ] //                               //HE3,4;NE1,2 
   0051 1012        4 [126380  ] //                               //TP 0
   0051 1013        4 [126392  ] //                               //+LPH
   0051 1016       12 [126404  ] //                               //M/ND/MOSAIC 
   0051 1017        6 [126424  ] //                               //SL 4.0
   0051 1019        6 [126438  ] //                               //A1/FS 
   Group: 0073, Length:       94
   0073 0010        8 [126452  ] //                               //STENTOR 
   0073 1001        8 [126468  ] //                               //unknown 
   0073 1002       10 [126484  ] //                               //10.40.16.5
   0073 1003        8 [126502  ] //                               //MR4_CHP 
   0073 1006       20 [126518  ] //                               //1.2.840.10008.1.2.1 
   Group: 7fe0, Length:   294920
   7fe0 0010   294912 [126550  ] //                 PXL Pixel Data//Data on disk
   DCM Dump Elements Complete
   Pixel array offset = 126550 (bytes)
   Pixel array length = 294912 (bytes)
   #+end_example
